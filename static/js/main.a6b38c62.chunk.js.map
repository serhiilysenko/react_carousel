{"version":3,"sources":["components/Carousel.tsx","api/imagesApi.tsx","App.tsx","index.tsx"],"names":["Carousel","images","step","frameSize","itemWidth","animationDuration","infinite","useState","currentImage","setCurrentImage","carouselSize","currentShift","lastPossibleImage","length","isStart","isEnd","className","style","width","map","image","transform","transition","src","alt","type","cn","onClick","prevImage","nextImage","imagesApi","App","setImages","setStep","setFrameSize","setItemWidth","setAnimationDuration","setInfinite","useEffect","value","min","onChange","event","target","max","checked","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a6b38c62.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport cn from 'classnames';\nimport './Carousel.scss';\n\ntype Props = {\n  images: string[];\n  step: number;\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n  infinite: boolean;\n};\n\nexport const Carousel: React.FC<Props> = ({\n  images,\n  step,\n  frameSize,\n  itemWidth,\n  animationDuration,\n  infinite,\n}) => {\n  const [currentImage, setCurrentImage] = useState(1);\n\n  const carouselSize = frameSize * itemWidth;\n  const currentShift = (currentImage - 1) * itemWidth;\n  const lastPossibleImage = images.length - frameSize + 1;\n\n  const isStart = currentImage === 1;\n  const isEnd = currentImage === lastPossibleImage;\n\n  const handleNextImage = () => {\n    if (!isEnd) {\n      const nextImage = currentImage + step;\n\n      setCurrentImage(nextImage > lastPossibleImage\n        ? lastPossibleImage\n        : nextImage);\n    } else if (infinite) {\n      setCurrentImage(1);\n    }\n  };\n\n  const handlePrevImage = () => {\n    if (!isStart) {\n      const prevImage = currentImage - step;\n\n      setCurrentImage(prevImage < 1\n        ? 1\n        : prevImage);\n    } else if (infinite) {\n      setCurrentImage(lastPossibleImage);\n    }\n  };\n\n  return (\n    <div className=\"Carousel\">\n      <ul\n        className=\"Carousel__list\"\n        style={{ width: `${carouselSize}px` }}\n      >\n        {images.map(image => (\n          <li\n            key={image}\n            style={{\n              transform: `translateX(-${currentShift}px)`,\n              transition: `${animationDuration}ms`,\n            }}\n          >\n            <img\n              src={image}\n              alt={image}\n              style={{ width: `${itemWidth}px` }}\n            />\n          </li>\n        ))}\n      </ul>\n\n      <div className=\"Carousel__buttons\">\n        <button\n          type=\"button\"\n          className={cn('Carousel__button', {\n            'Carousel__button--disabled': (isStart && !infinite),\n          })}\n          onClick={handlePrevImage}\n        >\n          Prev\n        </button>\n        <button\n          data-cy=\"next\"\n          type=\"button\"\n          className={cn('Carousel__button', {\n            'Carousel__button--disabled': (isEnd && !infinite),\n          })}\n          onClick={handleNextImage}\n        >\n          Next\n        </button>\n      </div>\n    </div>\n  );\n};\n","export const imagesApi = [\n  './img/1.png',\n  './img/2.png',\n  './img/3.png',\n  './img/4.png',\n  './img/5.png',\n  './img/6.png',\n  './img/7.png',\n  './img/8.png',\n  './img/9.png',\n  './img/10.png',\n];\n","import React, { useState, useEffect } from 'react';\nimport './App.scss';\nimport { Carousel } from './components/Carousel';\nimport { imagesApi } from './api/imagesApi';\n\nexport const App: React.FC = () => {\n  const [images, setImages] = useState<string[]>([]);\n  const [step, setStep] = useState(3);\n  const [frameSize, setFrameSize] = useState(3);\n  const [itemWidth, setItemWidth] = useState(130);\n  const [animationDuration, setAnimationDuration] = useState(3000);\n  const [infinite, setInfinite] = useState(false);\n\n  useEffect(() => {\n    setImages(imagesApi);\n  }, []);\n\n  return (\n    <div className=\"App\">\n      {/* eslint-disable-next-line */}\n      <h1 data-cy=\"title\">Carousel with {images.length} images</h1>\n\n      <Carousel\n        images={images}\n        step={step}\n        frameSize={frameSize}\n        itemWidth={itemWidth}\n        animationDuration={animationDuration}\n        infinite={infinite}\n      />\n\n      <div className=\"App__inputs\">\n        <label>\n          Step:\n          <input\n            type=\"number\"\n            value={step}\n            min={1}\n            onChange={(event) => setStep(+event.target.value)}\n          />\n        </label>\n\n        <label>\n          Frame size:\n          <input\n            type=\"number\"\n            value={frameSize}\n            min={1}\n            max={images.length}\n            onChange={(event) => setFrameSize(+event.target.value)}\n          />\n        </label>\n\n        <label>\n          Item width:\n          <input\n            type=\"number\"\n            value={itemWidth}\n            min={130}\n            onChange={(event) => setItemWidth(+event.target.value)}\n          />\n        </label>\n\n        <label>\n          Animation duration:\n          <input\n            type=\"number\"\n            value={animationDuration}\n            min={3000}\n            onChange={(event) => setAnimationDuration(+event.target.value)}\n          />\n        </label>\n\n        <label>\n          Infinite:\n          <input\n            type=\"checkbox\"\n            checked={infinite}\n            onChange={(event) => setInfinite(!!event.target.checked)}\n          />\n        </label>\n      </div>\n\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}